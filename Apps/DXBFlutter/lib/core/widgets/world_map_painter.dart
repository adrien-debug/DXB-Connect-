import 'package:flutter/material.dart';

class WorldMapPainter extends CustomPainter {
  final Color dotColor;
  final double dotRadius;

  WorldMapPainter({
    this.dotColor = const Color(0x22BAFF39),
    this.dotRadius = 1.4,
  });

  static const _map = [
    '0000000000011000000000000000000000011111100000000000',
    '0000011110011100000000111100000111111111111000000000',
    '0000111111111000000001111100011111111111111100000000',
    '0001111111111100000011111100111111111111111110000000',
    '0011111111111110000011111001111111111111111111000000',
    '0011111111111100000001110011111111111111101110000000',
    '0001111111110000000011110011111111111110011100000000',
    '0000111111100000000011111001111110111100001000000000',
    '0000011110000000000011111000111110011000000000000000',
    '0000001100000000000011111100011100001000000000000000',
    '0000001110000000000001111100001000001000000000000000',
    '0000011111000000000001111100000000000000000000000000',
    '0000011111100000000000111100000000000000000000000000',
    '0000111111110000000000011100000000001111100000000000',
    '0000011111110000000000001100000000011111110000000000',
    '0000001111100000000000000100000000011111110000000000',
    '0000000111100000000000000000000000001111100000000000',
    '0000000011000000000000000000000000000111000000000000',
    '0000000001000000000000000000000000000010000000000000',
  ];

  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..color = dotColor
      ..style = PaintingStyle.fill;

    final rows = _map.length;
    final cols = _map[0].length;
    final cellW = size.width / cols;
    final cellH = size.height / rows;

    for (int r = 0; r < rows; r++) {
      for (int c = 0; c < cols; c++) {
        if (_map[r][c] == '1') {
          canvas.drawCircle(
            Offset(c * cellW + cellW / 2, r * cellH + cellH / 2),
            dotRadius,
            paint,
          );
        }
      }
    }
  }

  @override
  bool shouldRepaint(covariant WorldMapPainter oldDelegate) =>
      dotColor != oldDelegate.dotColor || dotRadius != oldDelegate.dotRadius;
}
